# Project Context

This file provides AI assistants with full context about the project.

## Project Overview
Full-stack e-commerce CMS platform built with Next.js 16, TypeScript, PostgreSQL, and tRPC.

## Recent Work (December 5, 2025)
1. Implemented Invoice/PDF generation using @react-pdf/renderer
2. Implemented Bulk Product Import/Export using CSV (PapaParse)
3. Fixed all TypeScript strict mode errors (0 errors)
4. Improved type safety for nullable fields
5. Created comprehensive documentation

## Key Technologies
- Next.js 16 (App Router)
- TypeScript (strict mode)
- tRPC v11 (type-safe API)
- PostgreSQL + Drizzle ORM
- Zustand (state management)
- shadcn/ui (UI components)
- NextAuth.js v5 (authentication)
- Razorpay (payments)

## Important Files
- `src/lib/invoice-pdf.tsx` - PDF template
- `src/app/api/orders/[id]/invoice/route.ts` - Invoice generation
- `src/app/admin/products/import-export/page.tsx` - Bulk operations
- `src/server/api/routers/reports.ts` - Analytics (fixed null handling)
- `src/stores/*.ts` - Client state (comparison, wishlist, recently-viewed)

## Type Safety Notes
- All nullable fields must use `?? fallback` or type guards
- JSON fields typed as `Record<string, unknown>`
- Next.js 15+ uses `Promise<{ id: string }>` for params
- Stream chunks can be `string | Buffer` - handle both

## Database Schema
30+ tables including: products, orders, users, reviews, coupons, etc.
Notable JSON fields: orders.shippingAddress (JSONB)

## Build Status
✅ Production ready
✅ TypeScript: 0 errors in strict mode
✅ All features tested

## Documentation
- docs/FEATURES.md - All implemented features
- docs/IMPLEMENTATION_NOTES.md - Technical details
- docs/QUICK_REFERENCE.md - Developer guide
- CHANGELOG.md - Version history

## Key Features
✅ Product Comparison
✅ Recently Viewed Products
✅ Back-in-Stock Notifications
✅ Invoice/PDF Generation
✅ Pincode Serviceability
✅ Order Tracking
✅ Advanced Reports
✅ Bulk Import/Export

---
Last Updated: December 5, 2025
